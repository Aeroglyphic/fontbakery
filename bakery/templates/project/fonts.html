{% extends "project/base.html" %}
{% set page_title = _("Project info for ") + project.clone %}

{% block body %}
<h2>{{ _("Fonts for ") }} {{ project.clone }}</h2>

{% from 'project/macros.html' import nav with context%}
{{ nav('fonts') }}

<p>Fonts in project:</p>
<ul>
{% for folder, name in state['out_ufo'].items() %}
<li>{{ name }} (<code>{{folder}}</code>)</li>
{% endfor %}
</ul>

<h3>Files tree</h3>

<div class="tree">
<ul>
<li><a href="#"><i class="icon-folder-open"></i>Root</a></li>
<ul>
{%- for key, value in tree.items() recursive %}
<li><a href="#">{% if key == '' %} Root{% else %}
{% if key.lower().endswith('.ufo') and value %}<i class="icon-font text-info"></i>
{% elif key.lower().split('.')[-1] in ['txt', 'md', 'mdown', 'markdown'] %}<i class="icon-book"></i>
{% elif key.lower().split('.')[-1] in ['otf', 'ttf'] %}<i class="icon-archive"></i>
{% elif key.lower().split('.')[-1] in ['plist'] %}<i class="icon-list"></i>
{% elif key == 'glyphs' %}<i class="icon-code"></i>
{% elif key == 'bakery.yaml' %}<i class="icon-rocket text-error"></i>
{% else %}<i class="icon-file-alt muted"></i>
{%endif%}
{{ key }}
{% endif %}</a>
{%if key != 'glyphs' %}
    {%- if value %}<ul>{{ loop(value.items())}}</ul>{%- endif %}
{% endif %}
</li>
{%- endfor %}
</ul>
</ul>
</div>
{% endblock %}
